/* File generated with Shader Minifier 1.1.4
 * http://www.ctrl-alt-test.fr
 */
#ifndef GFX_H_
# define GFX_H_

const char *gfx_frag =
 "#version 130\n"
 "uniform float iTime;"
 "uniform vec2 iResolution;"
 "float iScale=0.;"
 "const vec3 c=vec3(1.,0.,-1.),tc=vec3(234.,82.,35.)/255.;"
 "const float pi=acos(-1.),t_logo=30.,t_tunnel=7000.;"
 "float t=0.;"
 "float rand(vec2 v)"
 "{"
   "return fract(sin(dot(v.xy,vec2(12.9898,78.233)))*43758.5);"
 "}"
 "float dist(vec2 x,vec2 y,vec2 v,vec2 a,float z)"
 "{"
   "return z=clamp(z,0.,1.),length(a-pow(1.-z,2.)*x-2.*(1.-z)*z*y-z*z*v);"
 "}"
 "float dsp(vec2 v,vec2 x,vec2 m,vec2 y)"
 "{"
   "vec2 a=y-v,z=m-2.*x+v,f=x-v;"
   "vec3 n=vec3(3.*dot(f,z),2.*dot(f,f)-dot(a,z),-dot(a,f))/dot(z,z);"
   "float l=n.x/3.,s=n.y-l*n.x,d=-l*(l*l+s)+n.z,i=d*d/4.+s*s*s/27.;"
   "if(i>0.)"
     "{"
       "vec2 r=-.5*d*c.xx+sqrt(i)*c.xz,p=sign(r)*pow(abs(r),c.xx/3.);"
       "return dist(v,x,m,y,p.x+p.y-l);"
     "}"
   "float p=sqrt(-4./3.*s),r=acos(-.5*d*sqrt(-27./s/s/s))/3.;"
   "vec3 e=c.zxz*p*cos(r*c.xxx+c*pi/3.)-l;"
   "return min(dist(v,x,m,y,e.x),min(dist(v,x,m,y,e.y),dist(v,x,m,y,e.z)));"
 "}"
 "float dsg(vec2 v,vec2 x,vec2 y)"
 "{"
   "vec2 z=x-v;"
   "float f=clamp(dot(y-v,z)/dot(z,z),0.,1.);"
   "return length(y-mix(v,x,f));"
 "}"
 "mat3 rot(vec3 v)"
 "{"
   "vec3 f=cos(v),s=sin(v);"
   "return mat3(f.x,0.,s.x,0.,1.,0.,-s.x,0.,f.x)*mat3(1.,0.,0.,0.,f.y,-s.y,0.,s.y,f.y)*mat3(f.z,-s.z,0.,s.z,f.z,0.,0.,0.,1.);"
 "}"
 "float zextrude(float v,float x,float y)"
 "{"
   "vec2 f=abs(vec2(min(x,0.),v))-y*c.yx;"
   "return min(max(f.x,f.y),0.)+length(max(f,0.));"
 "}"
 "float circle(vec2 x,float y,float z)"
 "{"
   "return z-abs(length(x)-y);"
 "}"
 "float circleseg(vec2 x,float v,float y,float f,float z)"
 "{"
   "float a=clamp(sign(x.y)*acos(x.x/length(x)),f,z);"
   "vec2 l=v*vec2(cos(a),sin(a));"
   "return circle(x-l,0.,y);"
 "}"
 "float line(vec2 v,vec2 x,vec2 y,float z)"
 "{"
   "vec2 f=y-x;"
   "return length(v-mix(x,y,clamp(dot(v-x,f)/dot(f,f),0.,1.)))-z;"
 "}"
 "float line(vec3 v,vec3 x,vec3 y,float z)"
 "{"
   "vec3 f=y-x;"
   "return length(v-mix(x,y,clamp(dot(v-x,f)/dot(f,f),0.,1.)))-z;"
 "}"
 "float pict210(vec3 v,float x,float y,float z)"
 "{"
   "float f=min(zextrude(v.z,circle(v.xy-y*c.xy,y,z),x),zextrude(v.z,-line(v.xy,-y*c.yx,y*c.yx,z),x));"
   "return min(f,zextrude(v.z,circleseg(v.xy+y*c.xy,y,z,-pi/2.,pi/2.),x));"
 "}"
 "vec2 logo(vec3 v)"
 "{"
   "vec3 f=v;"
   "v=rot(c.yxy*pi/4.)*v;"
   "float x=.05;"
   "vec2 y,z=vec2(pict210(v-.11*c.yyx,x,.2,.05),2.);"
   "vec3 a=v;"
   "v+=c.yxy*t*.1+10.*c.xxy;"
   "y=vec2(v.z+.21,2.);"
   "z=mix(y,z,step(z.x,y.x));"
   "vec3 l=vec3(mod(v.xy,.1)-.05,v.z),m=v-l;"
   "float s=rand(m.xy);"
   "x=4.*s*x*abs(8.*sin(.1*pi*(m.x-.12)));"
   "if(s>.5)"
     "l=rot(.5*pi*c.yyx)*l;"
   "y=vec2(pict210(l+.21*c.yyx,.5*x,.022,.005),s);"
   "z=mix(y,z,step(z.x,y.x));"
   "float r=-length(max(abs(l)-.05*c.xxy-(.1+.01*abs(m.x))*c.yyx,0.));"
   "r=abs(r)+.01;"
   "z.x=min(z.x,r);"
   "v=a;"
   "v-=.1*(t-12.)*c.yyx;"
   "float d=.04,p=step(-.15,f.z)*.12;"
   "l=mod(v,d)-.5*d;"
   "m=v-l;"
   "float i=-p+length(m.xy-.2*c.xy);"
   "if(i<2.*d)"
     "{"
       "for(float e=-1.;e<=1.;e+=1.)"
         "{"
           "for(float n=-1.;n<=1.;n+=1.)"
             "{"
               "for(float o=-1.;o<=1.;o+=1.)"
                 "{"
                   "vec3 b=m+vec3(e,n,o);"
                   "float g=-p+length(b.xy-.2*c.xy);"
                   "if(g>.5*d)"
                     "continue;"
                   "s=rand(10.*b.xy+21.*b.yz+35.*b.zx);"
                   "vec3 w=rot(10.*(t+12.)*vec3(.1,.2,.3)*s)*(l+d*vec3(e,n,o));"
                   "float u=.2*d+d*.15*s*(.5+.5*sin(10.*t+13.3*(s+length(v.xy))));"
                   "y=vec2(length(max(abs(w)-u*c.xxx,0.)),s);"
                   "z=mix(y,z,step(z.x,y.x));"
                 "}"
             "}"
         "}"
       "float e=-length(max(abs(l)-.5*d*c.xxx,0.));"
       "e=abs(e)+d*.1;"
       "z.x=min(z.x,e);"
     "}"
   "else"
     " y=vec2(i,1.),z=mix(z,y,step(y.x,z.x));"
   "return z;"
 "}"
 "vec2 tunnel(vec3 v)"
 "{"
   "float x=.5;"
   "vec2 f=vec2(zextrude(v.y,-abs(x-length(v.xz))+.01,2000.),3.),y=vec2(v.z+.8*x,3.);"
   "f=mix(y,f,step(f.x,y.x));"
   "float z=.04;"
   "vec3 a=vec3(mod(v.xy,z)-.5*z,v.z);"
   "y=vec2(zextrude(a.z+.4,.4*z-length(a.xy),.005),3.);"
   "f=mix(y,f,step(f.x,y.x));"
   "float s=.02,d=0.,e=x-4.*s;"
   "vec3 l=vec3(cos(d),0.,sin(d));"
   "y=vec2(line(v,x*l,e*l,s),3.);"
   "f=mix(y,f,step(f.x,y.x));"
   "y=vec2(line(v,e*l,e*l+.5*c.yxy,s),3.);"
   "f=mix(y,f,step(f.x,y.x));"
   "return f;"
 "}"
 "vec2 scene(vec3 v)"
 "{"
   "if(t<t_logo)"
     "return logo(v);"
   "else"
     " if(t<t_tunnel)"
       "return tunnel(v);"
 "}"
 "const float dx=.0001;"
 "vec3 normal(vec3 v)"
 "{"
   "float x=scene(v).x;"
   "return normalize(vec3(scene(v+dx*c.xyy).x-x,scene(v+dx*c.yxy).x-x,scene(v+dx*c.yyx).x-x));"
 "}"
 "vec3 background(vec2 x)"
 "{"
   "return c.yyy;"
 "}"
 "vec4 add2(vec4 v,vec4 f)"
 "{"
   "return vec4(min(v.x,f.x),mix(f.yzw,v.yzw,smoothstep(-1.5/iResolution.y,1.5/iResolution.y,f.x)));"
 "}"
 "float blend(float v,float y)"
 "{"
   "return smoothstep(v-.5,v+.5,t)*(1.-smoothstep(y-.5,y+.5,t));"
 "}"
 "vec4 textbox(vec2 v,vec2 x,vec2 y,float z)"
 "{"
   "float f=.004;"
   "vec4 r=c.xyyy,s;"
   "s=vec4(line(v,y,y+z*c.xy,10.*f),c.xyy);"
   "r=add2(r,s);"
   "r=add2(r,vec4(abs(s.x-2.*f)-f,c.xxy));"
   "s=vec4(length(v-y)-2.*f,tc);"
   "r=add2(r,s);"
   "r=add2(r,vec4(abs(s.x-2.*f)-f,c.xxy));"
   "s=vec4(length(v-x)-2.*f,tc);"
   "r=add2(r,s);"
   "r=add2(r,vec4(abs(s.x-2.*f)-f,c.xxy));"
   "r=add2(r,vec4(line(v,x,y,f),tc));"
   "return r;"
 "}"
 "vec4 textlayer(vec2 v)"
 "{"
   "float f=0.;"
   "vec4 y=c.xyyy,x;"
   "float r=10.;"
   "vec2 z=v;"
   "{"
     "const vec2 s[26]=vec2[26](vec2(.663,.375),vec2(.663,.428),vec2(.65,.428),vec2(.677,.428),vec2(.704,.375),vec2(.717,.375),vec2(.691,.388),vec2(.717,.388),vec2(.758,.375),vec2(.758,.402),vec2(.772,.375),vec2(.772,.402),vec2(.799,.375),vec2(.799,.388),vec2(.825,.375),vec2(.825,.388),vec2(.839,.375),vec2(.866,.375),vec2(.88,.415),vec2(.893,.428),vec2(.893,.428),vec2(.893,.375),vec2(.907,.388),vec2(.907,.415),vec2(.934,.388),vec2(.934,.415)),a[48]=vec2[48](vec2(.717,.388),vec2(.717,.402),vec2(.704,.402),vec2(.704,.402),vec2(.691,.402),vec2(.691,.388),vec2(.691,.388),vec2(.691,.375),vec2(.704,.375),vec2(.745,.402),vec2(.731,.402),vec2(.731,.388),vec2(.731,.388),vec2(.731,.375),vec2(.745,.375),vec2(.745,.375),vec2(.758,.375),vec2(.758,.388),vec2(.745,.402),vec2(.758,.402),vec2(.758,.388),vec2(.772,.388),vec2(.772,.402),vec2(.785,.402),vec2(.785,.402),vec2(.799,.402),vec2(.799,.388),vec2(.799,.388),vec2(.799,.402),vec2(.812,.402),vec2(.812,.402),vec2(.825,.402),vec2(.825,.388),vec2(.839,.428),vec2(.879,.442),vec2(.839,.375),vec2(.907,.388),vec2(.907,.375),vec2(.921,.375),vec2(.921,.375),vec2(.934,.375),vec2(.934,.388),vec2(.934,.415),vec2(.934,.428),vec2(.921,.428),vec2(.921,.428),vec2(.907,.428),vec2(.907,.415));"
     "for(int l=0;l<13;++l)"
       "r=min(r,dsg(s[2*l],s[2*l+1],z));"
     "for(int l=0;l<16;++l)"
       "r=min(r,dsp(a[3*l],a[3*l+1],a[3*l+2],z));"
   "}"
   "x=textbox(v,vec2(.44,.155),vec2(.6,.4),.5);"
   "vec4 s=vec4(r-.004,tc);"
   "x=add2(x,s);"
   "x=add2(x,vec4(abs(s.x)-.002,c.xxy));"
   "y=add2(y,x);"
   "f=max(f,step(x.x,1.5/iResolution.y)*blend(11.,25.));"
   "r=10.;"
   "{"
     "const vec2 a[48]=vec2[48](vec2(.65,.188),vec2(.65,.215),vec2(.677,.188),vec2(.677,.215),vec2(.691,.175),vec2(.691,.228),vec2(.744,.175),vec2(.744,.228),vec2(.691,.228),vec2(.717,.202),vec2(.717,.202),vec2(.744,.228),vec2(.758,.188),vec2(.758,.188),vec2(.758,.215),vec2(.758,.215),vec2(.799,.175),vec2(.785,.175),vec2(.799,.228),vec2(.785,.228),vec2(.772,.188),vec2(.772,.215),vec2(.867,.202),vec2(.88,.202),vec2(.867,.175),vec2(.88,.175),vec2(.88,.175),vec2(.88,.228),vec2(.907,.175),vec2(.921,.175),vec2(.894,.188),vec2(.921,.188),vec2(.935,.175),vec2(.961,.228),vec2(.975,.175),vec2(.989,.175),vec2(1.,.228),vec2(.989,.228),vec2(1.02,.175),vec2(1.02,.228),vec2(1.02,.228),vec2(1.04,.228),vec2(1.02,.202),vec2(1.04,.202),vec2(1.06,.175),vec2(1.08,.228),vec2(1.06,.228),vec2(1.08,.175)),d[60]=vec2[60](vec2(.65,.188),vec2(.65,.175),vec2(.663,.175),vec2(.663,.175),vec2(.677,.175),vec2(.677,.188),vec2(.677,.215),vec2(.677,.228),vec2(.663,.228),vec2(.663,.228),vec2(.65,.228),vec2(.65,.215),vec2(.663,.188),vec2(.663,.175),vec2(.677,.175),vec2(.785,.175),vec2(.772,.175),vec2(.772,.188),vec2(.772,.215),vec2(.772,.228),vec2(.785,.228),vec2(.826,.175),vec2(.813,.175),vec2(.813,.188),vec2(.813,.188),vec2(.813,.202),vec2(.826,.202),vec2(.826,.202),vec2(.839,.202),vec2(.839,.188),vec2(.839,.188),vec2(.839,.175),vec2(.826,.175),vec2(.867,.175),vec2(.853,.175),vec2(.853,.188),vec2(.853,.188),vec2(.853,.202),vec2(.867,.202),vec2(.921,.188),vec2(.921,.202),vec2(.907,.202),vec2(.907,.202),vec2(.894,.202),vec2(.894,.188),vec2(.894,.188),vec2(.894,.175),vec2(.907,.175),vec2(.989,.175),vec2(1.,.175),vec2(1.,.188),vec2(1.,.188),vec2(1.,.202),vec2(.989,.202),vec2(.989,.202),vec2(.975,.202),vec2(.975,.215),vec2(.975,.215),vec2(.975,.228),vec2(.989,.228));"
     "for(int l=0;l<24;++l)"
       "r=min(r,dsg(a[2*l],a[2*l+1],z));"
     "for(int l=0;l<20;++l)"
       "r=min(r,dsp(d[3*l],d[3*l+1],d[3*l+2],z));"
   "}"
   "x=textbox(v,vec2(.485,.1),vec2(.6,.2),.5);"
   "s=vec4(r-.004,tc);"
   "x=add2(x,s);"
   "x=add2(x,vec4(abs(s.x)-.002,c.xxy));"
   "y=add2(y,x);"
   "f=max(f,step(x.x,1.5/iResolution.y)*blend(12.,25.));"
   "r=10.;"
   "{"
     "const vec2 a[60]=vec2[60](vec2(.65,-.025),vec2(.65,.0283),vec2(.65,.0283),vec2(.677,-.025),vec2(.677,-.025),vec2(.677,.0283),vec2(.691,-.025),vec2(.691,.0283),vec2(.691,.0283),vec2(.704,.0283),vec2(.691,.00167),vec2(.704,.00167),vec2(.717,-.0117),vec2(.717,-.025),vec2(.758,.0283),vec2(.731,-.0117),vec2(.731,-.0117),vec2(.758,-.0117),vec2(.758,.00167),vec2(.758,-.025),vec2(.772,-.0117),vec2(.772,-.0117),vec2(.772,.015),vec2(.772,.015),vec2(.813,-.025),vec2(.799,-.025),vec2(.813,.0283),vec2(.799,.0283),vec2(.786,-.0117),vec2(.786,.015),vec2(.881,.00167),vec2(.894,.00167),vec2(.881,-.025),vec2(.894,-.025),vec2(.894,-.025),vec2(.894,.0283),vec2(.921,-.025),vec2(.935,-.025),vec2(.908,-.0117),vec2(.935,-.0117),vec2(.949,-.025),vec2(.975,.0283),vec2(1.,.00167),vec2(1.02,.00167),vec2(1.02,.00167),vec2(1.02,-.0117),vec2(.989,-.0117),vec2(.989,.015),vec2(1.,.0283),vec2(1.02,.0283),vec2(1.03,-.025),vec2(1.03,.0283),vec2(1.03,.0283),vec2(1.06,.0283),vec2(1.03,.00167),vec2(1.06,.00167),vec2(1.07,-.025),vec2(1.1,.0283),vec2(1.07,.0283),vec2(1.1,-.025)),d[51]=vec2[51](vec2(.704,.0283),vec2(.717,.0283),vec2(.717,.015),vec2(.717,.015),vec2(.717,.00167),vec2(.704,.00167),vec2(.704,.00167),vec2(.717,.00167),vec2(.717,-.0117),vec2(.799,-.025),vec2(.786,-.025),vec2(.786,-.0117),vec2(.786,.015),vec2(.786,.0283),vec2(.799,.0283),vec2(.84,-.025),vec2(.827,-.025),vec2(.827,-.0117),vec2(.827,-.0117),vec2(.827,.00167),vec2(.84,.00167),vec2(.84,.00167),vec2(.853,.00167),vec2(.853,-.0117),vec2(.853,-.0117),vec2(.853,-.025),vec2(.84,-.025),vec2(.881,-.025),vec2(.867,-.025),vec2(.867,-.0117),vec2(.867,-.0117),vec2(.867,.00167),vec2(.881,.00167),vec2(.935,-.0117),vec2(.935,.00167),vec2(.921,.00167),vec2(.921,.00167),vec2(.908,.00167),vec2(.908,-.0117),vec2(.908,-.0117),vec2(.908,-.025),vec2(.921,-.025),vec2(.989,.015),vec2(.989,.0283),vec2(1.,.0283),vec2(1.,-.025),vec2(.989,-.025),vec2(.989,-.0117),vec2(1.,-.025),vec2(1.02,-.025),vec2(1.02,-.0117));"
     "for(int l=0;l<30;++l)"
       "r=min(r,dsg(a[2*l],a[2*l+1],z));"
     "for(int l=0;l<17;++l)"
       "r=min(r,dsp(d[3*l],d[3*l+1],d[3*l+2],z));"
   "}"
   "x=textbox(v,vec2(.485,.03),vec2(.6,0.),.5);"
   "s=vec4(r-.004,tc);"
   "x=add2(x,s);"
   "x=add2(x,vec4(abs(s.x)-.002,c.xxy));"
   "y=add2(y,x);"
   "f=max(f,step(x.x,1.5/iResolution.y)*blend(13.,25.));"
   "r=10.;"
   "{"
     "const vec2 a[50]=vec2[50](vec2(.65,-.225),vec2(.65,-.172),vec2(.703,-.225),vec2(.703,-.172),vec2(.65,-.172),vec2(.677,-.198),vec2(.677,-.198),vec2(.703,-.172),vec2(.731,-.225),vec2(.731,-.172),vec2(.717,-.225),vec2(.744,-.225),vec2(.717,-.172),vec2(.744,-.172),vec2(.785,-.225),vec2(.771,-.225),vec2(.785,-.172),vec2(.771,-.172),vec2(.758,-.212),vec2(.758,-.185),vec2(.799,-.212),vec2(.799,-.212),vec2(.799,-.185),vec2(.799,-.185),vec2(.813,-.225),vec2(.826,-.225),vec2(.839,-.172),vec2(.826,-.172),vec2(.853,-.198),vec2(.853,-.212),vec2(.88,-.198),vec2(.88,-.225),vec2(.894,-.252),vec2(.894,-.198),vec2(.894,-.198),vec2(.907,-.198),vec2(.894,-.225),vec2(.907,-.225),vec2(.935,-.252),vec2(.935,-.198),vec2(.935,-.198),vec2(.948,-.198),vec2(.935,-.225),vec2(.948,-.225),vec2(1.02,-.225),vec2(1.02,-.198),vec2(1.06,-.212),vec2(1.06,-.172),vec2(1.04,-.198),vec2(1.07,-.198)),d[54]=vec2[54](vec2(.771,-.225),vec2(.758,-.225),vec2(.758,-.212),vec2(.758,-.185),vec2(.758,-.172),vec2(.771,-.172),vec2(.826,-.225),vec2(.839,-.225),vec2(.839,-.212),vec2(.839,-.212),vec2(.839,-.198),vec2(.826,-.198),vec2(.826,-.198),vec2(.813,-.198),vec2(.813,-.185),vec2(.813,-.185),vec2(.813,-.172),vec2(.826,-.172),vec2(.853,-.212),vec2(.853,-.225),vec2(.867,-.225),vec2(.867,-.225),vec2(.88,-.225),vec2(.88,-.212),vec2(.907,-.225),vec2(.921,-.225),vec2(.921,-.212),vec2(.921,-.212),vec2(.921,-.198),vec2(.907,-.198),vec2(.948,-.225),vec2(.961,-.225),vec2(.961,-.212),vec2(.961,-.212),vec2(.961,-.198),vec2(.948,-.198),vec2(.989,-.225),vec2(.975,-.225),vec2(.975,-.212),vec2(.975,-.212),vec2(.975,-.198),vec2(.989,-.198),vec2(.989,-.198),vec2(1.,-.198),vec2(1.,-.212),vec2(1.,-.212),vec2(1.,-.225),vec2(.989,-.225),vec2(1.02,-.212),vec2(1.02,-.198),vec2(1.03,-.198),vec2(1.06,-.212),vec2(1.06,-.225),vec2(1.07,-.225));"
     "for(int l=0;l<25;++l)"
       "r=min(r,dsg(a[2*l],a[2*l+1],z));"
     "for(int l=0;l<18;++l)"
       "r=min(r,dsp(d[3*l],d[3*l+1],d[3*l+2],z));"
   "}"
   "x=textbox(v,vec2(.435,-.02),vec2(.6,-.2),.5);"
   "s=vec4(r-.004,tc);"
   "x=add2(x,s);"
   "x=add2(x,vec4(abs(s.x)-.002,c.xxy));"
   "y=add2(y,x);"
   "f=max(f,step(x.x,1.5/iResolution.y)*blend(14.,25.));"
   "r=10.;"
   "{"
     "const vec2 a[48]=vec2[48](vec2(.65,-.398),vec2(.65,-.412),vec2(.677,-.398),vec2(.677,-.412),vec2(.703,-.398),vec2(.703,-.412),vec2(.717,-.398),vec2(.717,-.412),vec2(.744,-.398),vec2(.744,-.412),vec2(.771,-.398),vec2(.771,-.412),vec2(.785,-.398),vec2(.785,-.412),vec2(.811,-.398),vec2(.811,-.412),vec2(.838,-.398),vec2(.838,-.412),vec2(.852,-.425),vec2(.852,-.425),vec2(.893,-.398),vec2(.866,-.398),vec2(.893,-.398),vec2(.866,-.425),vec2(.866,-.425),vec2(.893,-.425),vec2(.907,-.385),vec2(.92,-.372),vec2(.92,-.372),vec2(.92,-.425),vec2(.934,-.412),vec2(.934,-.385),vec2(.961,-.412),vec2(.961,-.385),vec2(.975,-.425),vec2(.975,-.425),vec2(.989,-.412),vec2(.989,-.398),vec2(.989,-.385),vec2(.989,-.385),vec2(1.02,-.425),vec2(1.02,-.398),vec2(1.04,-.412),vec2(1.04,-.425),vec2(1.07,-.412),vec2(1.07,-.385),vec2(1.06,-.398),vec2(1.08,-.398)),d[75]=vec2[75](vec2(.65,-.412),vec2(.65,-.425),vec2(.663,-.425),vec2(.663,-.425),vec2(.677,-.425),vec2(.677,-.412),vec2(.677,-.412),vec2(.677,-.425),vec2(.69,-.425),vec2(.69,-.425),vec2(.703,-.425),vec2(.703,-.412),vec2(.717,-.412),vec2(.717,-.425),vec2(.731,-.425),vec2(.731,-.425),vec2(.744,-.425),vec2(.744,-.412),vec2(.744,-.412),vec2(.744,-.425),vec2(.757,-.425),vec2(.757,-.425),vec2(.771,-.425),vec2(.771,-.412),vec2(.785,-.412),vec2(.785,-.425),vec2(.798,-.425),vec2(.798,-.425),vec2(.811,-.425),vec2(.811,-.412),vec2(.811,-.412),vec2(.811,-.425),vec2(.825,-.425),vec2(.825,-.425),vec2(.838,-.425),vec2(.838,-.412),vec2(.934,-.412),vec2(.934,-.425),vec2(.947,-.425),vec2(.947,-.425),vec2(.961,-.425),vec2(.961,-.412),vec2(.961,-.385),vec2(.961,-.372),vec2(.947,-.372),vec2(.947,-.372),vec2(.934,-.372),vec2(.934,-.385),vec2(.989,-.412),vec2(.989,-.425),vec2(1.,-.425),vec2(1.03,-.398),vec2(1.04,-.398),vec2(1.04,-.412),vec2(1.02,-.412),vec2(1.02,-.398),vec2(1.03,-.398),vec2(1.06,-.425),vec2(1.07,-.425),vec2(1.07,-.412),vec2(1.07,-.385),vec2(1.07,-.372),vec2(1.08,-.372),vec2(1.11,-.425),vec2(1.1,-.425),vec2(1.1,-.412),vec2(1.1,-.412),vec2(1.1,-.398),vec2(1.11,-.398),vec2(1.11,-.398),vec2(1.12,-.398),vec2(1.12,-.412),vec2(1.12,-.412),vec2(1.12,-.425),vec2(1.11,-.425));"
     "for(int l=0;l<24;++l)"
       "r=min(r,dsg(a[2*l],a[2*l+1],z));"
     "for(int l=0;l<25;++l)"
       "r=min(r,dsp(d[3*l],d[3*l+1],d[3*l+2],z));"
   "}"
   "x=textbox(v,vec2(.365,-.045),vec2(.6,-.4),.5);"
   "s=vec4(r-.004,tc);"
   "x=add2(x,s);"
   "x=add2(x,vec4(abs(s.x)-.002,c.xxy));"
   "y=add2(y,x);"
   "f=max(f,step(x.x,.01)*blend(15.,25.));"
   "return vec4(y.yzw,f)*smoothstep(1.5/iResolution.y,-1.5/iResolution.y,y.x);"
 "}"
 "vec3 raymarch(vec2 v,float x)"
 "{"
   "t=x;"
   "int f=200;"
   "float l=0.,s=50.,z=.0005;"
   "vec2 r;"
   "vec3 y=c.yzy,a=c.yyy,d=c.xyy,e=c.yyx,m=a+v.x*d+v.y*e,p=normalize(m-y),i,n;"
   "if(t<t_logo)"
     "s=20.,f=100;"
   "int b=0;"
   "for(int o=0;o<f;++o)"
     "{"
       "i=y+l*p;"
       "r=scene(i);"
       "if(r.x<z)"
         "break;"
       "if(l>s||o==f-1)"
         "{"
           "b=1;"
           "break;"
         "}"
       "l+=r.x;"
     "}"
   "if(b==1)"
     "n=background(v);"
   "else"
     "{"
       "vec3 o=normal(i);"
       "n=c.yyy;"
       "if(t<t_tunnel)"
         "{"
           "if(r.y<=1.)"
             "{"
               "vec3 w=c.yyx,g=normalize(reflect(-w,o)),u=normalize(i-y),h=abs(rot(.05*vec3(10.,21.,35.)*r.y+t+i.z)*c.xxy),R=abs(rot(.05*vec3(21.,35.,10.)*r.y+t+i.z)*c.yxx),k=abs(rot(.05*vec3(35.,10.,21.)*r.y+t+i.z)*c.xyx);"
               "n=.1*h+dot(w,o)*.3*R+pow(abs(dot(g,u)),2.)*.9*k;"
               "n=mix(n,.01*c.xxx,tanh(2.8*i.y));"
             "}"
           "else"
             " if(r.y<=2.)"
               "{"
                 "vec3 w=c.yyx,g=normalize(reflect(-w,o)),u=normalize(i-y),h=.1*c.xxx*length(abs(rot(.05*vec3(10.,21.,35.)*r.y+t+i.z)*c.xxy)),R=.1*c.xxx*length(abs(rot(.05*vec3(21.,35.,10.)*r.y+t+i.z)*c.yxx)),k=.2*c.xxx*length(abs(rot(.05*vec3(35.,10.,21.)*r.y+t+i.z)*c.xyx));"
                 "n=.1*h+dot(w,o)*.3*R+pow(abs(dot(g,u)),2.)*.9*k;"
                 "n=mix(n,.01*c.xxx,tanh(2.8*i.y));"
               "}"
             "else"
               " if(r.y<=3.)"
                 "{"
                   "vec3 w=normalize(c.yxx),g=normalize(reflect(-w,o)),u=normalize(i-y),h=abs(rot(.05*vec3(10.,21.,35.)*r.y+t+i.z)*c.xxy),R=abs(rot(.05*vec3(21.,35.,10.)*r.y+t+i.z)*c.yxx),k=abs(rot(.05*vec3(35.,10.,21.)*r.y+t+i.z)*c.xyx);"
                   "n=.1*h+dot(w,o)*.2*R+pow(abs(dot(g,u)),2.)*.9*k;"
                   "n=mix(n,.01*c.xxx,tanh(.8*i.y));"
                 "}"
         "}"
     "}"
   "vec4 o=textlayer(v);"
   "n=mix(n,o.xyz,o.w);"
   "return n;"
 "}"
 "void mainImage(out vec4 x,in vec2 v)"
 "{"
   "iScale=2.*mod(iTime,.5);"
   "vec2 r=v/iResolution.yy-.5;"
   "const float f=.01;"
   "vec3 y=c.yyy;"
   "{"
     "float z=.75/iResolution.y;"
     "for(float l=-z;l<z;l+=z)"
       "for(float s=-z;s<z;s+=z)"
         "y+=raymarch(r+vec2(l,s),iTime);"
     "y*=.25;"
   "}"
   "x=vec4(y,1.);"
 "}"
 "void main()"
 "{"
   "mainImage(gl_FragColor,gl_FragCoord.xy);"
 "}";

#endif // GFX_H_
